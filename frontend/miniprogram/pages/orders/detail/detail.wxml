<view class="container">
  <!-- 订单头部 -->
  <view class="order-header">
    <text class="order-no">订单号：{{order.orderNo}}</text>
    <text class="order-status" wx:if="{{order.status === 1}}">待付款</text>
    <text class="order-status" wx:elif="{{order.status === 2}}">待收货</text>
    <text class="order-status" wx:elif="{{order.status === 3}}">已完成</text>
    <text class="order-status" wx:elif="{{order.status === 4}}">已取消</text>
  </view>

  <!-- 收货地址 -->
  <view class="address-section">
    <view class="section-title">收货地址</view>
    <view class="address-info" wx:if="{{order.address}}">
      <view class="address-name-phone">
        <text class="address-name">{{order.address.name}}</text>
        <text class="address-phone">{{order.address.phone}}</text>
      </view>
      <text class="address-detail">{{order.address.province}}{{order.address.city}}{{order.address.district}}{{order.address.detail}}</text>
    </view>
  </view>

  <!-- 订单商品 -->
  <view class="goods-section">
    <view class="section-title">商品信息</view>
    <view class="goods-list">
      <view class="goods-item" wx:for="{{order.orderItems}}" wx:key="index">
        <image src="{{item.image}}" class="goods-image"></image>
        <view class="goods-info">
          <text class="goods-name">{{item.dishName}}</text>
          <view class="goods-price-quantity">
            <text class="goods-price">¥{{item.price}}</text>
            <text class="goods-quantity">x{{item.quantity}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 订单信息 -->
  <view class="order-info-section">
    <view class="section-title">订单信息</view>
    <view class="info-item">
      <text class="info-label">创建时间</text>
      <text class="info-value">{{order.createTime}}</text>
    </view>
    <view class="info-item" wx:if="{{order.payTime}}">
      <text class="info-label">支付时间</text>
      <text class="info-value">{{order.payTime}}</text>
    </view>
    <view class="info-item" wx:if="{{order.deliveryTime}}">
      <text class="info-label">发货时间</text>
      <text class="info-value">{{order.deliveryTime}}</text>
    </view>
    <view class="info-item" wx:if="{{order.completeTime}}">
      <text class="info-label">完成时间</text>
      <text class="info-value">{{order.completeTime}}</text>
    </view>
  </view>

  <!-- 订单金额 -->
  <view class="amount-section">
    <view class="amount-item">
      <text class="amount-label">商品总价</text>
      <text class="amount-value">¥{{order.totalPrice}}</text>
    </view>
    <view class="amount-item">
      <text class="amount-label">运费</text>
      <text class="amount-value">¥0.00</text>
    </view>
    <view class="amount-item total">
      <text class="amount-label">实付金额</text>
      <text class="amount-value total-price">¥{{order.totalPrice}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="action-btn cancel" wx:if="{{order.status === 1}}" bindtap="onCancelOrder">取消订单</button>
    <button class="action-btn pay" wx:if="{{order.status === 1}}" bindtap="onPayOrder">立即支付</button>
    <button class="action-btn confirm" wx:if="{{order.status === 2}}" bindtap="onConfirmReceipt">确认收货</button>
  </view>
</view>
