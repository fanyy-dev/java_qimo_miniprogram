<view class="container">
  <!-- è®¢å•çŠ¶æ€ç­›é€‰ -->
  <view class="status-filter">
    <view class="status-item {{currentStatus === index ? 'active' : ''}}" wx:for="{{orderStatus}}" wx:key="index" bindtap="onStatusChange" data-index="{{index}}">
      <text class="status-text">{{item}}</text>
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="orders-list">
    <view class="order-item" wx:for="{{filteredOrders}}" wx:key="id" bindtap="onOrderTap" data-id="{{item.id}}">
      <!-- è®¢å•å¤´éƒ¨ -->
      <view class="order-header">
        <text class="order-no">è®¢å•å·ï¼š{{item.orderNo}}</text>
        <text class="order-status" wx:if="{{item.status === 1}}">å¾…ä»˜æ¬¾</text>
        <text class="order-status" wx:elif="{{item.status === 2}}">å¾…æ”¶è´§</text>
        <text class="order-status" wx:elif="{{item.status === 3}}">å·²å®Œæˆ</text>
        <text class="order-status" wx:elif="{{item.status === 4}}">å·²å–æ¶ˆ</text>
      </view>

      <!-- è®¢å•å•†å“åˆ—è¡¨ -->
      <view class="order-items">
        <view class="order-item-row" wx:for="{{item.orderItems}}" wx:for-item="dish" wx:key="index">
          <image src="{{dish.image}}" class="item-image"></image>
          <view class="item-info">
            <text class="item-name">{{dish.dishName}}</text>
            <text class="item-price">Â¥{{dish.price}}</text>
          </view>
          <text class="item-quantity">x{{dish.quantity}}</text>
        </view>
      </view>

      <!-- è®¢å•åº•éƒ¨ -->
      <view class="order-footer">
        <text class="order-time">{{item.createTime}}</text>
        <view class="order-total">
          <text class="total-text">åˆè®¡ï¼š</text>
          <text class="total-price">Â¥{{item.totalPrice}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºè®¢å•æç¤º -->
  <view class="empty-orders" wx:if="{{filteredOrders.length === 0 && !loading}}">
    <view class="empty-icon">ğŸ“¦</view>
    <text class="empty-text">æš‚æ— è®¢å•</text>
  </view>
</view>
